From 1eabcb1d9baca58b829cabc74081482db670e20d Mon Sep 17 00:00:00 2001
From: Icenowy Zheng <uwu@icenowy.me>
Date: Wed, 3 Apr 2024 11:42:58 +0800
Subject: [PATCH 7/7] GL_EXT_texture_storage_compression entry points

Signed-off-by: Icenowy Zheng <uwu@icenowy.me>
---
 .../gen/EXT_texture_storage_compression.xml   | 46 +++++++++++++++++++
 src/mapi/glapi/gen/gl_API.xml                 |  3 ++
 src/mapi/glapi/gen/meson.build                |  1 +
 src/mapi/glapi/gen/static_data.py             |  4 ++
 4 files changed, 54 insertions(+)
 create mode 100644 src/mapi/glapi/gen/EXT_texture_storage_compression.xml

diff --git a/src/mapi/glapi/gen/EXT_texture_storage_compression.xml b/src/mapi/glapi/gen/EXT_texture_storage_compression.xml
new file mode 100644
index 00000000000..8b29f6cd0cb
--- /dev/null
+++ b/src/mapi/glapi/gen/EXT_texture_storage_compression.xml
@@ -0,0 +1,46 @@
+<?xml version="1.0"?>
+<!DOCTYPE OpenGLAPI SYSTEM "gl_API.dtd">
+
+<OpenGLAPI>
+
+<category name="GL_EXT_texture_storage_compression" number="557">
+
+  <enum value="0x96C0" name="GL_SURFACE_COMPRESSION_EXT"/>
+  <enum value="0x96C1" name="GL_SURFACE_COMPRESSION_FIXED_RATE_NONE_EXT"/>
+  <enum value="0x96C2" name="GL_SURFACE_COMPRESSION_FIXED_RATE_DEFAULT_EXT"/>
+  <enum value="0x96C4" name="GL_SURFACE_COMPRESSION_FIXED_RATE_1BPC_EXT"/>
+  <enum value="0x96C5" name="GL_SURFACE_COMPRESSION_FIXED_RATE_2BPC_EXT"/>
+  <enum value="0x96C6" name="GL_SURFACE_COMPRESSION_FIXED_RATE_3BPC_EXT"/>
+  <enum value="0x96C7" name="GL_SURFACE_COMPRESSION_FIXED_RATE_4BPC_EXT"/>
+  <enum value="0x96C8" name="GL_SURFACE_COMPRESSION_FIXED_RATE_5BPC_EXT"/>
+  <enum value="0x96C9" name="GL_SURFACE_COMPRESSION_FIXED_RATE_6BPC_EXT"/>
+  <enum value="0x96CA" name="GL_SURFACE_COMPRESSION_FIXED_RATE_7BPC_EXT"/>
+  <enum value="0x96CB" name="GL_SURFACE_COMPRESSION_FIXED_RATE_8BPC_EXT"/>
+  <enum value="0x96CC" name="GL_SURFACE_COMPRESSION_FIXED_RATE_9BPC_EXT"/>
+  <enum value="0x96CD" name="GL_SURFACE_COMPRESSION_FIXED_RATE_10BPC_EXT"/>
+  <enum value="0x96CE" name="GL_SURFACE_COMPRESSION_FIXED_RATE_11BPC_EXT"/>
+  <enum value="0x96CF" name="GL_SURFACE_COMPRESSION_FIXED_RATE_12BPC_EXT"/>
+
+  <function name="TexStorageAttribs2DEXT">
+    <param name="target" type="GLenum"/>
+    <param name="levels" type="GLsizei"/>
+    <param name="internalformat" type="GLenum"/>
+    <param name="width" type="GLsizei"/>
+    <param name="height" type="GLsizei"/>
+    <param name="attrib_list" type="GLint *"/>
+  </function>
+
+  <function name="TexStorageAttribs3DEXT">
+    <param name="target" type="GLenum"/>
+    <param name="levels" type="GLsizei"/>
+    <param name="internalformat" type="GLenum"/>
+    <param name="width" type="GLsizei"/>
+    <param name="height" type="GLsizei"/>
+    <param name="depth" type="GLsizei"/>
+    <param name="attrib_list" type="GLint *"/>
+  </function>
+
+</category>
+
+
+</OpenGLAPI>
diff --git a/src/mapi/glapi/gen/gl_API.xml b/src/mapi/glapi/gen/gl_API.xml
index bc450111ba5..fc1258613d8 100644
--- a/src/mapi/glapi/gen/gl_API.xml
+++ b/src/mapi/glapi/gen/gl_API.xml
@@ -12924,4 +12924,7 @@
 <xi:include href="NV_half_float.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
 <xi:include href="GL4x.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
 
+<xi:include href="EXT_texture_storage_compression.xml"
+	    xmlns:xi="http://www.w3.org/2001/XInclude"/>
+
 </OpenGLAPI>
diff --git a/src/mapi/glapi/gen/meson.build b/src/mapi/glapi/gen/meson.build
index 5634e39bca7..2f74fbc7004 100644
--- a/src/mapi/glapi/gen/meson.build
+++ b/src/mapi/glapi/gen/meson.build
@@ -125,6 +125,7 @@ api_xml_files = files(
   'EXT_texture_array.xml',
   'EXT_texture_integer.xml',
   'EXT_texture_storage.xml',
+  'EXT_texture_storage_compression.xml',
   'EXT_transform_feedback.xml',
   'EXT_vertex_attrib_64bit.xml',
   'EXT_window_rectangles.xml',
diff --git a/src/mapi/glapi/gen/static_data.py b/src/mapi/glapi/gen/static_data.py
index 6dca8614354..8736fb87dc8 100644
--- a/src/mapi/glapi/gen/static_data.py
+++ b/src/mapi/glapi/gen/static_data.py
@@ -1726,6 +1726,8 @@ offsets = {
     "FramebufferTextureARB" : 1690,
     "FramebufferTextureLayerARB" : 1691,
     "FramebufferTextureFaceARB" : 1692,
+    "TexStorageAttribs2DEXT" : 1693,
+    "TexStorageAttribs3DEXT" : 1694
 }
 
 functions = [
@@ -3026,6 +3028,8 @@ functions = [
     "WindowPos3sARB",
     "WindowPos3sv",
     "WindowPos3svARB",
+    "TexStorageAttribs2DEXT",
+    "TexStorageAttribs3DEXT"
 ]
 
 """Functions that need dispatch slots but are not used
-- 
2.44.0

